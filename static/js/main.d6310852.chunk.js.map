{"version":3,"sources":["components/covidForm.jsx","App.jsx","index.js"],"names":["CovidForm","props","totalCases","activeCases","criticalCases","totalDeaths","newDeaths","clickCovid","className","src","alt","type","value","readOnly","colSpan","onClick","App","getCovidJson","a","fetch","method","headers","then","response","json","data","state","newCases","recovered","date","time","updateStats","bind","e","preventDefault","this","result","setState","cases","total","new","active","critical","deaths","day","document","querySelector","timeCovid","CovidSubmitMethod","React","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d6310852.chunk.js","sourcesContent":["import React from 'react';\n\n// class CovidForm extends React.Component {\nconst CovidForm = (props) => {\n  const {\n    totalCases, activeCases, criticalCases, totalDeaths,\n    newDeaths, clickCovid,\n  } = props;\n  return (\n    <div className=\"form\">\n      <div className=\"block-header\">\n        <h1>COVID 19</h1>\n        <div className=\"logo\"><img src=\"images/russia.png\" alt=\"russia.png\" /></div>\n      </div>\n      <p className=\"block-desc\">\n        <span>Статистика по заболеваемости коронавирусной инфекции</span>\n      </p>\n      <form>\n        <input type=\"text\" value={totalCases} readOnly />\n        <div className=\"content-mobile\">\n          <table>\n            <tbody>\n              <tr>\n                <td>Активные</td>\n                <td>{activeCases}</td>\n              </tr>\n              <tr>\n                <td>Критические</td>\n                <td>{criticalCases}</td>\n              </tr>\n              <tr>\n                <td colSpan=\"2\">Кол-во смертей</td>\n              </tr>\n              <tr>\n                <td>Всего</td>\n                <td>{totalDeaths}</td>\n              </tr>\n              <tr>\n                <td>Новые</td>\n                <td>{newDeaths}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div className=\"content-table\">\n          <table>\n            <tbody>\n              <tr className=\"header-caption\">\n                <th>Всего</th>\n                <th>Активные</th>\n                <th>Критические</th>\n                <th colSpan=\"2\">Умерло</th>\n              </tr>\n              <tr>\n                <td>{totalCases}</td>\n                <td>{activeCases}</td>\n                <td>{criticalCases}</td>\n                <td>всего</td>\n                <td>новые</td>\n              </tr>\n\n              <tr>\n                <td />\n                <td />\n                <td />\n                <td>{totalDeaths}</td>\n                <td>{newDeaths}</td>\n              </tr>\n              <tr />\n            </tbody>\n          </table>\n        </div>\n        <div className=\"controls\"><button type=\"button\" onClick={clickCovid}>ОБНОВИТЬ</button></div>\n      </form>\n    </div>\n  );\n};\n\nexport default CovidForm;\n","import React from 'react';\nimport CovidForm from './components/covidForm';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      totalCases: '',\n      newCases: '',\n      activeCases: '',\n      criticalCases: '',\n      recovered: '',\n      newDeaths: '',\n      totalDeaths: '',\n      date: '',\n      time: '',\n    };\n\n    this.updateStats = this.updateStats.bind(this);\n    // Чтобы не терялся контекст при передаче метода в слушатель\n  }\n\n  getCovidJson = async () => {\n    // e.preventDefault();\n    const country = 'russia';\n    const xApiHost = 'covid-193.p.rapidapi.com'; // https://rapidapi.com/api-sports/api/covid-193\n    const xApiKey = 'ae61153825mshf5d7179ef888deap132741jsnd421646d8d62'; // CHANGE\n\n    const data = await fetch(`https://covid-193.p.rapidapi.com/statistics?country=${country}`, {\n      method: 'GET',\n      headers: {\n        'x-rapidapi-host': xApiHost,\n        'x-rapidapi-key': xApiKey,\n      },\n    }).then((response) => response.json());\n\n    return data;\n  }\n\n  async updateStats(e) {\n    e.preventDefault();\n\n    const result = await this.getCovidJson();\n    // console.log(result);\n\n    this.setState({\n      totalCases: result.response[0].cases.total,\n      newCases: result.response[0].cases.new,\n      activeCases: result.response[0].cases.active,\n      criticalCases: result.response[0].cases.critical,\n      recovered: result.response[0].cases.recovered,\n      newDeaths: result.response[0].deaths.new,\n      totalDeaths: result.response[0].deaths.total,\n      date: result.response[0].day,\n      time: result.response[0].time,\n    });\n\n    const formInput = document.querySelector('.form input');\n    formInput.value += ' случаев';\n  }\n\n  render() {\n    // https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/destructuring-assignment.md\n    const {\n      timeCovid, totalCases, activeCases,\n      criticalCases, totalDeaths, newDeaths, date, time,\n      newCases, recovered,\n    } = this.state;\n    const clickCovid = this.updateStats;\n    return (\n      <div className=\"container\">\n        <CovidForm\n          CovidSubmitMethod={this.getCovidJson}\n          timeCovid={timeCovid}\n          clickCovid={clickCovid}\n          totalCases={totalCases}\n          activeCases={activeCases}\n          criticalCases={criticalCases}\n          totalDeaths={totalDeaths}\n          newDeaths={newDeaths}\n          date={date}\n          time={time}\n          newCases={newCases}\n          recovered={recovered}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './css/style.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}